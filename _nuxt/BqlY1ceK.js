import{_ as ye,a as be}from"./Viuj9WpT.js";import{_ as we}from"./Cqe3E_3U.js";import{K as le,M as xe,z as re,b8 as N,I as L,af as M,ap as ke,d as p,e as d,g as w,w as x,B as k,f as h,a2 as Se,D as S,h as O,E as y,n as g,C as v,a0 as j,t as I,ar as Ce,ao as Ee,aq as Le,F as V,Z as A,P as ie,G as oe,aj as X,o as $e,a1 as Te,S as We,bw as Be,X as ze,A as He,v as Oe,as as G,av as qe,aw as De,at as Y,au as K}from"./wSQBiBCy.js";import{_ as Me}from"./MBO46BDd.js";import{u as Ve}from"./45CZkCM6.js";import{p as Ae,v as Pe,i as Re,a as je,d as Ie,c as Ue,r as Fe,b as Ne,n as ue,f as B,e as ce,g as de,s as Xe,m as W,h as Q,j as Ge,M as Ye}from"./o59errrD.js";import"./BN_7HF1G.js";const Ke={slots:{root:"relative",container:"flex flex-col mx-auto max-w-2xl",header:"",meta:"flex items-center gap-3 mb-2",date:"text-sm/6 text-toned truncate",badge:"",title:"relative text-xl text-pretty font-semibold text-highlighted",description:"text-base text-pretty text-muted mt-1",imageWrapper:"relative overflow-hidden rounded-lg aspect-[16/9] mt-5 group/changelog-version-image",image:"object-cover object-top w-full h-full",authors:"flex flex-wrap gap-x-4 gap-y-1.5",footer:"border-t border-default pt-5 flex items-center justify-between",indicator:"absolute left-0 top-0 w-32 hidden lg:flex items-center justify-end gap-3 min-w-0",dot:"size-4 rounded-full bg-default ring ring-default flex items-center justify-center my-1",dotInner:"size-2 rounded-full bg-primary"},variants:{body:{false:{footer:"mt-5"}},badge:{false:{meta:"lg:hidden"}},to:{true:{image:"transform transition-transform duration-200 group-hover/changelog-version-image:scale-105"}},hidden:{true:{date:"lg:hidden"}}}},Qe=["datetime"],fe=Object.assign({inheritAttrs:!1},{__name:"UChangelogVersion",props:{as:{type:null,required:!1,default:"article"},title:{type:String,required:!1},description:{type:String,required:!1},date:{type:[String,Date],required:!1},badge:{type:null,required:!1},authors:{type:Array,required:!1},image:{type:[String,Object],required:!1},indicator:{type:Boolean,required:!1,default:!0},to:{type:null,required:!1},target:{type:null,required:!1},onClick:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,s=le(),{locale:n}=xe(),a=re(),l=Ve(n.value.code),[r,o]=N(),[c,i]=N({props:{hidden:{type:Boolean,default:!1}}}),u=L(()=>M({extend:M(Ke),...a.uiPro?.changelogVersion||{}})({to:!!t.to||!!t.onClick})),m=L(()=>{if(t.date)try{return l.custom(new Date(t.date),{dateStyle:"medium"})}catch{return t.date}}),b=L(()=>{if(t.date)try{return new Date(t.date)?.toISOString()}catch{return}}),C=L(()=>(s.title&&ke(s.title())||t.title||"Version link").trim());return(f,z)=>{const H=Se,P=Ce;return d(),p(V,null,[w(y(r),null,{default:x(()=>[e.to?(d(),k(H,S({key:0,"aria-label":C.value},{to:e.to,target:e.target,...f.$attrs},{class:"focus:outline-none peer",tabindex:"-1",raw:""}),{default:x(()=>z[0]||(z[0]=[O("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)])),_:1,__:[0]},16,["aria-label"])):h("",!0)]),_:1}),w(y(c),null,{default:x(({hidden:R})=>[m.value?(d(),p("time",{key:0,datetime:b.value,class:g(u.value.date({class:t.ui?.date,hidden:R}))},[v(f.$slots,"date",{},()=>[j(I(m.value),1)])],10,Qe)):h("",!0)]),_:3}),w(y(ie),{as:e.as,class:g(u.value.root({class:[t.ui?.root,t.class]})),onClick:e.onClick},{default:x(()=>[t.indicator||s.indicator?(d(),p("div",{key:0,class:g(u.value.indicator({class:t.ui?.indicator}))},[v(f.$slots,"indicator",{},()=>[w(y(i)),O("div",{class:g(u.value.dot({class:t.ui?.dot}))},[O("div",{class:g(u.value.dotInner({class:t.ui?.dotInner}))},null,2)],2)])],2)):h("",!0),O("div",{class:g(u.value.container({class:t.ui?.container}))},[s.header||m.value||s.date||e.badge||s.badge||e.title||s.title||e.description||s.description||e.image||s.image?(d(),p("div",{key:0,class:g(u.value.header({class:t.ui?.header}))},[v(f.$slots,"header",{},()=>[m.value||s.date||e.badge||s.badge?(d(),p("div",{key:0,class:g(u.value.meta({class:t.ui?.meta,badge:!!e.badge||!!s.badge||!t.indicator}))},[v(f.$slots,"badge",{},()=>[e.badge?(d(),k(P,S({key:0,color:"neutral",variant:"solid"},typeof e.badge=="string"?{label:e.badge}:e.badge,{class:u.value.badge({class:t.ui?.badge})}),null,16,["class"])):h("",!0)]),w(y(i),{hidden:!!t.indicator},null,8,["hidden"])],2)):h("",!0),e.title||s.title?(d(),p("h2",{key:1,class:g(u.value.title({class:t.ui?.title}))},[w(y(o)),v(f.$slots,"title",{},()=>[j(I(e.title),1)])],2)):h("",!0),e.description||s.description?(d(),p("div",{key:2,class:g(u.value.description({class:t.ui?.description}))},[v(f.$slots,"description",{},()=>[j(I(e.description),1)])],2)):h("",!0),e.image||s.image?(d(),p("div",{key:3,class:g(u.value.imageWrapper({class:t.ui?.imageWrapper}))},[v(f.$slots,"image",{},()=>[e.image?(d(),k(Ee(y(Le)),S({key:0},typeof e.image=="string"?{src:e.image,alt:e.title}:{alt:e.title,...e.image},{class:u.value.image({class:t.ui?.image,to:!!e.to})}),null,16,["class"])):h("",!0)]),w(y(o))],2)):h("",!0)])],2)):h("",!0),v(f.$slots,"body"),s.footer||e.authors?.length||s.authors||s.actions?(d(),p("div",{key:1,class:g(u.value.footer({class:t.ui?.footer,body:!!s.body}))},[v(f.$slots,"footer",{},()=>[e.authors?.length||s.authors?(d(),p("div",{key:0,class:g(u.value.authors({class:t.ui?.authors}))},[v(f.$slots,"authors",{},()=>[(d(!0),p(V,null,A(e.authors,(R,ve)=>(d(),k(Me,S({key:ve},{ref_for:!0},R),null,16))),128))])],2)):h("",!0),v(f.$slots,"actions")])],2)):h("",!0)],2)]),_:3},8,["as","class","onClick"])],64)}}});var Ze=function(){};const Je=50,Z=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),_e=()=>({time:0,x:Z(),y:Z()}),et={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function J(e,t,s,n){const a=s[t],{length:l,position:r}=et[t],o=a.current,c=s.time;a.current=e[`scroll${r}`],a.scrollLength=e[`scroll${l}`]-e[`client${l}`],a.offset.length=0,a.offset[0]=0,a.offset[1]=a.scrollLength,a.progress=Ae(0,a.scrollLength,a.current);const i=n-c;a.velocity=i>Je?0:Pe(a.current-o,i)}function tt(e,t,s){J(e,"x",t,s),J(e,"y",t,s),t.time=s}function st(e,t){const s={x:0,y:0};let n=e;for(;n&&n!==t;)if(Re(n))s.x+=n.offsetLeft,s.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const a=n.getBoundingClientRect();n=n.parentElement;const l=n.getBoundingClientRect();s.x+=a.left-l.left,s.y+=a.top-l.top}else if(n instanceof SVGGraphicsElement){const{x:a,y:l}=n.getBBox();s.x+=a,s.y+=l;let r=null,o=n.parentNode;for(;!r;)o.tagName==="svg"&&(r=o),o=n.parentNode;n=r}else break;return s}const F={start:0,center:.5,end:1};function _(e,t,s=0){let n=0;if(e in F&&(e=F[e]),typeof e=="string"){const a=parseFloat(e);e.endsWith("px")?n=a:e.endsWith("%")?e=a/100:e.endsWith("vw")?n=a/100*document.documentElement.clientWidth:e.endsWith("vh")?n=a/100*document.documentElement.clientHeight:e=a}return typeof e=="number"&&(n=t*e),s+n}const nt=[0,0];function at(e,t,s,n){let a=Array.isArray(e)?e:nt,l=0,r=0;return typeof e=="number"?a=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?a=e.split(" "):a=[e,F[e]?e:"0"]),l=_(a[0],s,n),r=_(a[1],t),l-r}const lt={All:[[0,0],[1,1]]},rt={x:0,y:0};function it(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function ot(e,t,s){const{offset:n=lt.All}=s,{target:a=e,axis:l="y"}=s,r=l==="y"?"height":"width",o=a!==e?st(a,e):rt,c=a===e?{width:e.scrollWidth,height:e.scrollHeight}:it(a),i={width:e.clientWidth,height:e.clientHeight};t[l].offset.length=0;let u=!t[l].interpolate;const m=n.length;for(let b=0;b<m;b++){const C=at(n[b],i[r],c[r],o[l]);!u&&C!==t[l].interpolatorOffsets[b]&&(u=!0),t[l].offset[b]=C}u&&(t[l].interpolate=je(t[l].offset,Ie(n),{clamp:!1}),t[l].interpolatorOffsets=[...t[l].offset]),t[l].progress=Ue(0,1,t[l].interpolate(t[l].current))}function ut(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)s.x.targetOffset+=n.offsetLeft,s.y.targetOffset+=n.offsetTop,n=n.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function ct(e,t,s,n={}){return{measure:a=>{ut(e,n.target,s),tt(e,s,a),(n.offset||n.target)&&ot(e,s,n)},notify:()=>t(s)}}const q=new WeakMap;let E;const ge=(e,t,s)=>(n,a)=>a&&a[0]?a[0][e+"Size"]:Ne(n)&&"getBBox"in n?n.getBBox()[t]:n[s],dt=ge("inline","width","offsetWidth"),ft=ge("block","height","offsetHeight");function gt({target:e,borderBoxSize:t}){var s;(s=q.get(e))==null||s.forEach(n=>{n(e,{get width(){return dt(e,t)},get height(){return ft(e,t)}})})}function mt(e){e.forEach(gt)}function ht(){typeof ResizeObserver>"u"||(E=new ResizeObserver(mt))}function pt(e,t){E||ht();const s=Fe(e);return s.forEach(n=>{let a=q.get(n);a||(a=new Set,q.set(n,a)),a.add(t),E?.observe(n)}),()=>{s.forEach(n=>{const a=q.get(n);a?.delete(t),a?.size||E?.unobserve(n)})}}const D=new Set;let $;function vt(){$=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};D.forEach(t=>t(e))},window.addEventListener("resize",$)}function yt(e){return D.add(e),$||vt(),()=>{D.delete(e),!D.size&&typeof $=="function"&&(window.removeEventListener("resize",$),$=void 0)}}function bt(e,t){return typeof e=="function"?yt(e):pt(e,t)}const T=new WeakMap,ee=new WeakMap,U=new WeakMap,te=e=>e===document.scrollingElement?window:e;function me(e,{container:t=document.scrollingElement,...s}={}){if(!t)return ue;let n=U.get(t);n||(n=new Set,U.set(t,n));const a=_e(),l=ct(t,e,a,s);if(n.add(l),!T.has(t)){const o=()=>{for(const m of n)m.measure(de.timestamp);B.preUpdate(c)},c=()=>{for(const m of n)m.notify()},i=()=>B.read(o);T.set(t,i);const u=te(t);window.addEventListener("resize",i,{passive:!0}),t!==document.documentElement&&ee.set(t,bt(t,i)),u.addEventListener("scroll",i,{passive:!0}),i()}const r=T.get(t);return B.read(r,!1,!0),()=>{var o;ce(r);const c=U.get(t);if(!c||(c.delete(l),c.size))return;const i=T.get(t);T.delete(t),i&&(te(t).removeEventListener("scroll",i),(o=ee.get(t))==null||o(),window.removeEventListener("resize",i))}}const se=new Map;function wt(e){const t={value:0},s=me(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function he({source:e,container:t,...s}){const{axis:n}=s;e&&(t=e);const a=se.get(t)??new Map;se.set(t,a);const l=s.target??"self",r=a.get(l)??{},o=n+(s.offset??[]).join(",");return r[o]||(r[o]=!s.target&&Xe()?new ScrollTimeline({source:t,axis:n}):wt({container:t,...s})),r[o]}function pe(e,t){let s;const n=()=>{const{currentTime:a}=t,r=(a===null?0:a.value)/100;s!==r&&e(r),s=r};return B.preUpdate(n,!0),()=>ce(n)}function xt(e,t){const s=he(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:n=>(n.pause(),pe(a=>{n.time=n.duration*a},s))})}function kt(e){return e.length===2}function St(e,t){return kt(e)?me(s=>{e(s[t.axis].progress,s)},t):pe(e,he(t))}function Ct(e,{axis:t="y",container:s=document.scrollingElement,...n}={}){if(!s)return ue;const a={axis:t,container:s,...n};return typeof e=="function"?St(e,a):xt(e,a)}function ne(e){return typeof e=="number"?e:parseFloat(e)}function Et(e,t={}){let s=null;const n=W(Q(e)?ne(e.get()):e);let a=n.get(),l=()=>{};const r=()=>{s&&(s.stop(),s=null)},o=()=>{const c=s;c?.time===0&&c.sample(de.delta),r();const i=X(t)?t.value:t;s=Ge({keyframes:[n.get(),a],velocity:n.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...i,onUpdate:l})};return oe(()=>X(t)?t.value:t,()=>{n.attach((c,i)=>(a=c,l=i,B.update(o),n.get()),r)},{immediate:!0}),Q(e)&&e.on("change",c=>{n.set(ne(c))}),n}const Lt=typeof window>"u";function ae(e,t){Ze(!!(!t||t.value))}function $t(){return{scrollX:W(0),scrollY:W(0),scrollXProgress:W(0),scrollYProgress:W(0)}}function Tt({container:e,target:t,...s}={}){const n=$t();return $e(()=>{ae("target",t),ae("container",e)}),oe([()=>e?.value,()=>t?.value,()=>s.offset],(a,l,r)=>{if(Lt)return;const o=Ct((c,{x:i,y:u})=>{n.scrollX.set(i.current),n.scrollXProgress.set(i.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...s,container:e?.value??void 0,target:t?.value??void 0});r(()=>{o()})},{immediate:!0,flush:"post"}),n}const Wt={slots:{root:"relative",container:"flex flex-col gap-y-8 sm:gap-y-12 lg:gap-y-16",indicator:"absolute hidden lg:block overflow-hidden inset-y-3 left-32 h-full w-px bg-border -ml-[8.5px]",beam:"absolute left-0 top-0 w-full bg-primary will-change-[height]"}},Bt={__name:"UChangelogVersions",props:{as:{type:null,required:!1},versions:{type:Array,required:!1},indicator:{type:Boolean,required:!1,default:!0},indicatorMotion:{type:[Boolean,Object],required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,s=le(),n=Te(s,["default","indicator"]),a=re(),l=L(()=>We(typeof t.indicatorMotion=="object"?t.indicatorMotion:{},{damping:30,restDelta:.001})),{scrollY:r}=Tt(),o=Et(r,l),c=L(()=>M({extend:M(Wt),...a.uiPro?.changelogVersions||{}})());return(i,u)=>(d(),k(y(ie),{as:e.as,class:g(c.value.root({class:[t.ui?.root,t.class]}))},{default:x(()=>[t.indicator||s.indicator?(d(),p("div",{key:0,class:g(c.value.indicator({class:t.ui?.indicator}))},[v(i.$slots,"indicator",{},()=>[t.indicatorMotion?(d(),k(y(Ye),{key:0,class:g(c.value.beam({class:t.ui?.beam})),style:Be({height:y(o)})},null,8,["class","style"])):h("",!0)])],2)):h("",!0),e.versions?.length||s.default?(d(),p("div",{key:1,class:g(c.value.container({class:t.ui?.container}))},[v(i.$slots,"default",{},()=>[(d(!0),p(V,null,A(e.versions,(m,b)=>(d(),k(fe,S({key:b,indicator:!!t.indicator},{ref_for:!0},m),ze({_:2},[A(y(n),(C,f)=>({name:f,fn:x(()=>[v(i.$slots,f,S({ref_for:!0},{version:m}))])}))]),1040,["indicator"]))),128))])],2)):h("",!0)]),_:3},8,["as","class"]))}},At=He({__name:"index",async setup(e){let t,s;const n=Oe(),{data:a}=([t,s]=G(()=>Y("changelog",()=>K("changelog").first())),t=await t,s(),t),{data:l}=([t,s]=G(()=>Y(n.path,()=>K("versions").order("date","DESC").all(),"$XG38MjbQm3")),t=await t,s(),t),r=a.value?.seo?.title||a.value?.title,o=a.value?.seo?.description||a.value?.description;return qe({title:r,ogTitle:r,description:o,ogDescription:o}),(c,i)=>{const u=ye,m=we,b=fe,C=Bt,f=be,z=De;return d(),k(z,null,{default:x(()=>[w(u,S(y(a),{class:"py-[50px]"}),null,16),w(f,null,{default:x(()=>[w(C,null,{default:x(()=>[(d(!0),p(V,null,A(y(l),(H,P)=>(d(),k(b,S({key:P},{ref_for:!0},H),{body:x(()=>[w(m,{value:H.body},null,8,["value"])]),_:2},1040))),128))]),_:1})]),_:1})]),_:1})}}});export{At as default};
